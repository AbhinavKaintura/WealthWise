{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import'./Chat.css';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Chat(){const[input,setInput]=useState(\"\");const[file,setFile]=useState(null);const[isDocumentMode,setIsDocumentMode]=useState(false);const[response,updateResponse]=useState([{text:\"Welcome to WealthWise! I'm your personal financial advisor. How can I help you with your financial goals today?\",isBot:true}]);const handleFileUpload=async e=>{const selectedFile=e.target.files[0];if(selectedFile&&selectedFile.type==='application/pdf'){setFile(selectedFile);const formData=new FormData();formData.append('file',selectedFile);try{await axios.post('http://localhost:5000/api/upload',formData,{headers:{'Content-Type':'multipart/form-data'}});setIsDocumentMode(true);updateResponse([...response,{text:\"Financial document uploaded successfully! Ask me anything about your financial records.\",isBot:true}]);}catch(error){console.error(\"Error uploading file:\",error);updateResponse([...response,{text:\"Error uploading document. Please try again.\",isBot:true}]);}}};const handleSendMessage=async()=>{if(!input.trim())return;const userMessage=input;setInput(\"\");updateResponse([...response,{text:userMessage,isBot:false}]);try{let apiResponse;if(isDocumentMode){apiResponse=await axios.post('http://localhost:5000/api/query',{query:userMessage});updateResponse(prev=>[...prev,{text:apiResponse.data.answer,isBot:true}]);}else{apiResponse=await axios.post('http://localhost:5000/api/chat',{message:userMessage});updateResponse(prev=>[...prev,{text:apiResponse.data.response,isBot:true}]);}}catch(error){console.error(\"Error sending message:\",error);updateResponse(prev=>[...prev,{text:\"Sorry, I encountered an error. Please try again.\",isBot:true}]);}};const handleKeyPress=e=>{if(e.key==='Enter'){handleSendMessage();}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chat-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header\",children:\"WealthWise: Your Personal Financial Advisor\"}),/*#__PURE__*/_jsx(\"div\",{className:\"chat-container\",children:response.map((message,index)=>/*#__PURE__*/_jsx(\"div\",{className:message.isBot?\"message bot-message\":\"message user-message\",children:/*#__PURE__*/_jsx(\"p\",{children:message.text})},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".pdf\",onChange:handleFileUpload,style:{display:'none'},id:\"file-upload\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"file-upload\",className:\"file-upload-label\",children:file?'ðŸ“„ Statement Uploaded':'ðŸ“Ž Upload Statement'}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:isDocumentMode?\"Ask about your financial document...\":\"Ask your financial questions...\",value:input,onChange:e=>setInput(e.target.value),onKeyPress:handleKeyPress}),/*#__PURE__*/_jsx(\"button\",{className:\"greenbtn\",onClick:handleSendMessage,children:\"Send\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"resources-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"resource-card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Financial Resources\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"resource-links\",children:[/*#__PURE__*/_jsx(Link,{to:\"/investBasics\",className:\"resource-link\",children:\"Investment Basics\"}),/*#__PURE__*/_jsx(\"a\",{href:\"https://www.moneyhelper.org.uk/en/everyday-money/budgeting/budget-planner\",className:\"resource-link\",children:\"Budgeting Tools\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/tax\",className:\"resource-link\",children:\"Tax Planning Guide\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"resource-link\",children:\"Retirement Calculator\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"resource-link\",children:\"Market Analysis\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"resource-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"disclaimer\",children:[\"\\\"Financial freedom is a journey of knowledge, discipline, and strategic planning. Let's build your wealth, one smart decision at a time.\\\"\",/*#__PURE__*/_jsx(\"br\",{}),\"\\u2013 WealthWise Team\"]})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"footer\",children:\"WealthWise \\xA9 2025 - Your Journey to Financial Freedom\"})]});}export default Chat;","map":{"version":3,"names":["React","useState","axios","Link","jsx","_jsx","jsxs","_jsxs","Chat","input","setInput","file","setFile","isDocumentMode","setIsDocumentMode","response","updateResponse","text","isBot","handleFileUpload","e","selectedFile","target","files","type","formData","FormData","append","post","headers","error","console","handleSendMessage","trim","userMessage","apiResponse","query","prev","data","answer","message","handleKeyPress","key","children","className","map","index","accept","onChange","style","display","id","htmlFor","placeholder","value","onKeyPress","onClick","to","href"],"sources":["D:/Desktop/WealthWise/src/components/Chat.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport './Chat.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nfunction Chat() {\r\n    const [input, setInput] = useState(\"\");\r\n    const [file, setFile] = useState(null);\r\n    const [isDocumentMode, setIsDocumentMode] = useState(false);\r\n    const [response, updateResponse] = useState([{\r\n        text: \"Welcome to WealthWise! I'm your personal financial advisor. How can I help you with your financial goals today?\",\r\n        isBot: true\r\n    }]);\r\n\r\n    const handleFileUpload = async (e) => {\r\n        const selectedFile = e.target.files[0];\r\n        if (selectedFile && selectedFile.type === 'application/pdf') {\r\n            setFile(selectedFile);\r\n            const formData = new FormData();\r\n            formData.append('file', selectedFile);\r\n\r\n            try {\r\n                await axios.post('http://localhost:5000/api/upload', formData, {\r\n                    headers: {\r\n                        'Content-Type': 'multipart/form-data',\r\n                    },\r\n                });\r\n                setIsDocumentMode(true);\r\n                updateResponse([\r\n                    ...response,\r\n                    {\r\n                        text: \"Financial document uploaded successfully! Ask me anything about your financial records.\",\r\n                        isBot: true\r\n                    }\r\n                ]);\r\n            } catch (error) {\r\n                console.error(\"Error uploading file:\", error);\r\n                updateResponse([\r\n                    ...response,\r\n                    {\r\n                        text: \"Error uploading document. Please try again.\",\r\n                        isBot: true\r\n                    }\r\n                ]);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleSendMessage = async () => {\r\n        if (!input.trim()) return;\r\n        \r\n        const userMessage = input;\r\n        setInput(\"\");\r\n        \r\n        updateResponse([\r\n            ...response,\r\n            { text: userMessage, isBot: false }\r\n        ]);\r\n\r\n        try {\r\n            let apiResponse;\r\n            if (isDocumentMode) {\r\n                apiResponse = await axios.post('http://localhost:5000/api/query', {\r\n                    query: userMessage\r\n                });\r\n                updateResponse(prev => [...prev, {\r\n                    text: apiResponse.data.answer,\r\n                    isBot: true\r\n                }]);\r\n            } else {\r\n                apiResponse = await axios.post('http://localhost:5000/api/chat', {\r\n                    message: userMessage\r\n                });\r\n                updateResponse(prev => [...prev, {\r\n                    text: apiResponse.data.response,\r\n                    isBot: true\r\n                }]);\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error sending message:\", error);\r\n            updateResponse(prev => [...prev, {\r\n                text: \"Sorry, I encountered an error. Please try again.\",\r\n                isBot: true\r\n            }]);\r\n        }\r\n    };\r\n\r\n    const handleKeyPress = (e) => {\r\n        if (e.key === 'Enter') {\r\n            handleSendMessage();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"container\">\r\n                <div className=\"chat-section\">\r\n                    <div className=\"header\">\r\n                        WealthWise: Your Personal Financial Advisor\r\n                    </div>\r\n                    <div className=\"chat-container\">\r\n                        {response.map((message, index) => (\r\n                            <div key={index} className={message.isBot ? \"message bot-message\" : \"message user-message\"}>\r\n                                <p>{message.text}</p>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                    <div className=\"input-container\">\r\n                        <input \r\n                            type=\"file\" \r\n                            accept=\".pdf\"\r\n                            onChange={handleFileUpload}\r\n                            style={{ display: 'none' }}\r\n                            id=\"file-upload\"\r\n                        />\r\n                        <label htmlFor=\"file-upload\" className=\"file-upload-label\">\r\n                            {file ? 'ðŸ“„ Statement Uploaded' : 'ðŸ“Ž Upload Statement'}\r\n                        </label>\r\n                        <input \r\n                            type=\"text\" \r\n                            placeholder={isDocumentMode ? \"Ask about your financial document...\" : \"Ask your financial questions...\"}\r\n                            value={input}\r\n                            onChange={(e) => setInput(e.target.value)}\r\n                            onKeyPress={handleKeyPress}\r\n                        />\r\n                        <button className=\"greenbtn\" onClick={handleSendMessage}>Send</button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"resources-section\">\r\n                    <div className=\"resource-card\">\r\n                        <h2>Financial Resources</h2>\r\n                        <div className=\"resource-links\">\r\n                            <Link to=\"/investBasics\" className='resource-link'>Investment Basics</Link>\r\n                            {/* <a href=\"#\" className=\"resource-link\">Investment Basics</a> */}\r\n                            <a href=\"https://www.moneyhelper.org.uk/en/everyday-money/budgeting/budget-planner\" className=\"resource-link\">Budgeting Tools</a>\r\n                            <a href=\"/tax\" className=\"resource-link\">Tax Planning Guide</a>\r\n                            <a href=\"#\" className=\"resource-link\">Retirement Calculator</a>\r\n                            <a href=\"#\" className=\"resource-link\">Market Analysis</a>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"resource-card\">\r\n                        <div className=\"disclaimer\">\r\n                            \"Financial freedom is a journey of knowledge, discipline, and strategic planning. Let's build your wealth, one smart decision at a time.\"\r\n                            <br />\r\n                            â€“ WealthWise Team\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"footer\">\r\n                WealthWise Â© 2025 - Your Journey to Financial Freedom\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Chat;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}